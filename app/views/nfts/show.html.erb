<div class="max-w-4xl mx-auto px-4 py-8">
  <!-- Back Button -->
  <%= link_to nfts_path, class: "inline-flex items-center gap-2 text-gray-400 hover:text-white mb-6 transition-all duration-200 group" do %>
    <svg class="w-5 h-5 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
    </svg>
    <span class="font-medium">NFT 갤러리로 돌아가기</span>
  <% end %>

  <div class="grid lg:grid-cols-2 gap-8">
    <!-- Media -->
    <div class="glass-card rounded-3xl overflow-hidden">
      <div class="relative aspect-square bg-gray-800">
        <% if @post.image? %>
          <img src="<%= @post.media_url %>" alt="<%= @post.title %>" class="w-full h-full object-contain">
        <% else %>
          <video src="<%= @post.media_url %>" controls class="w-full h-full object-contain"></video>
        <% end %>
        
        <!-- NFT Badge -->
        <div class="absolute top-4 left-4">
          <span class="px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full text-sm font-bold text-white shadow-lg">
            NFT #<%= @nft.token_id&.first(8) %>
          </span>
        </div>
      </div>
    </div>

    <!-- Details -->
    <div class="space-y-6">
      <!-- Title & Owner -->
      <div class="glass-card rounded-2xl p-6">
        <h1 class="text-2xl font-black text-white mb-4"><%= @post.title %></h1>
        
        <div class="flex items-center gap-4 mb-4">
          <div class="flex items-center gap-3">
            <% if @nft.user.avatar_url.present? %>
              <img src="<%= @nft.user.avatar_url %>" class="w-12 h-12 rounded-full ring-2 ring-purple-500/50">
            <% else %>
              <div class="w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center ring-2 ring-purple-500/50">
                <span class="text-lg font-bold text-white"><%= @nft.user.display_name&.first&.upcase || '?' %></span>
              </div>
            <% end %>
            <div>
              <p class="text-sm text-gray-400">Owner</p>
              <p class="font-bold text-white"><%= @nft.user.display_name || "Anonymous" %></p>
            </div>
          </div>
        </div>

        <% if @post.description.present? %>
          <p class="text-gray-400"><%= @post.description %></p>
        <% end %>
      </div>

      <!-- NFT Details -->
      <div class="glass-card rounded-2xl p-6">
        <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
          <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          NFT 정보
        </h2>
        
        <div class="space-y-3">
          <div class="flex justify-between items-center py-2 border-b border-gray-700">
            <span class="text-gray-400">Network</span>
            <span class="text-white font-medium flex items-center gap-2">
              <svg class="w-4 h-4 text-purple-400" viewBox="0 0 38 33" fill="currentColor">
                <path d="M19 0L37.5 11V33L19 22L0.5 33V11L19 0Z" fill-opacity="0.5"/>
                <path d="M19 11L28.5 17V28L19 22L9.5 28V17L19 11Z"/>
              </svg>
              Polygon
            </span>
          </div>
          
          <div class="flex justify-between items-center py-2 border-b border-gray-700">
            <span class="text-gray-400">Token ID</span>
            <span class="text-white font-mono text-sm"><%= @nft.token_id&.first(16) %>...</span>
          </div>
          
          <div class="flex justify-between items-center py-2 border-b border-gray-700">
            <span class="text-gray-400">Contract</span>
            <span class="text-white font-mono text-sm"><%= @nft.contract_address&.first(10) %>...</span>
          </div>
          
          <div class="flex justify-between items-center py-2 border-b border-gray-700">
            <span class="text-gray-400">Minted</span>
            <span class="text-white"><%= @nft.minted_at&.strftime("%Y-%m-%d %H:%M") %></span>
          </div>
          
          <div class="flex justify-between items-center py-2">
            <span class="text-gray-400">Status</span>
            <span class="px-3 py-1 rounded-full text-sm font-bold <%= @nft.minted? ? 'bg-green-500/20 text-green-400' : 'bg-yellow-500/20 text-yellow-400' %>">
              <%= @nft.status.capitalize %>
            </span>
          </div>
        </div>
      </div>

      <!-- External Links -->
      <div class="flex gap-3">
        <% if @nft.opensea_url %>
          <a href="<%= @nft.opensea_url %>" target="_blank" rel="noopener" class="flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 90 90">
              <path d="M45 0C20.151 0 0 20.151 0 45C0 69.849 20.151 90 45 90C69.849 90 90 69.849 90 45C90 20.151 69.858 0 45 0ZM22.203 46.512L22.392 46.206L34.101 27.891C34.272 27.63 34.677 27.657 34.803 27.945C36.756 32.328 38.448 37.782 37.656 41.175C37.323 42.57 36.396 44.46 35.352 46.206C35.217 46.458 35.073 46.701 34.92 46.937C34.848 47.046 34.713 47.109 34.578 47.109H22.518C22.203 47.109 22.014 46.773 22.203 46.512Z"/>
            </svg>
            OpenSea
          </a>
        <% end %>
        
        <% if @nft.polygonscan_url %>
          <a href="<%= @nft.polygonscan_url %>" target="_blank" rel="noopener" class="flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 hover:bg-purple-500 rounded-xl font-bold text-white transition-colors">
            <svg class="w-5 h-5" viewBox="0 0 38 33" fill="currentColor">
              <path d="M19 0L37.5 11V33L19 22L0.5 33V11L19 0Z" fill-opacity="0.5"/>
              <path d="M19 11L28.5 17V28L19 22L9.5 28V17L19 11Z"/>
            </svg>
            PolygonScan
          </a>
        <% end %>
      </div>

      <!-- View Original Post -->
      <%= link_to @post, class: "block text-center px-4 py-3 glass rounded-xl font-medium text-gray-300 hover:text-white transition-colors" do %>
        원본 게시물 보기 →
      <% end %>
    </div>
  </div>
</div>
