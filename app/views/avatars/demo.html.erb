<div class="max-w-6xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="text-center mb-8">
    <h1 class="text-3xl font-black text-white mb-2">아바타 시스템 데모</h1>
    <p class="text-gray-400">캐릭터와 아이템이 어떻게 보이는지 미리보기</p>
  </div>

  <div class="grid lg:grid-cols-2 gap-8">
    <!-- Large Avatar Preview -->
    <div class="glass-card rounded-3xl p-8">
      <h2 class="text-xl font-bold text-white mb-6 text-center">캐릭터 미리보기</h2>

      <div class="relative aspect-square max-w-md mx-auto rounded-3xl overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900 shadow-2xl">
        <%= render "avatar_preview", avatar: @avatar %>
      </div>

      <!-- Equipped Items Info -->
      <div class="mt-6 grid grid-cols-2 gap-3">
        <% [['head', '머리', @avatar.head_item], ['body', '몸통', @avatar.body_item], ['background', '배경', @avatar.background_item], ['accessory', '액세서리', @avatar.accessory_item]].each do |category, label, item| %>
          <div class="p-3 rounded-xl bg-gray-800/50 flex items-center gap-3">
            <span class="text-2xl"><%= item&.display_emoji || '❓' %></span>
            <div>
              <p class="text-xs text-gray-400"><%= label %></p>
              <p class="text-sm font-medium text-white"><%= item&.name || '없음' %></p>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <!-- All Items Preview -->
    <div class="space-y-6">
      <% [['head', '머리 아이템'], ['body', '몸통 아이템'], ['background', '배경'], ['accessory', '액세서리']].each do |category, label| %>
        <div class="glass-card rounded-2xl p-4">
          <h3 class="text-lg font-bold text-white mb-3"><%= label %></h3>
          <div class="flex flex-wrap gap-3">
            <% (@all_items[category] || []).each do |item| %>
              <div class="relative group">
                <div class="w-16 h-16 rounded-xl bg-gray-800/60 flex flex-col items-center justify-center p-2 border border-<%= item.rarity_color %>-500/30 hover:border-<%= item.rarity_color %>-500 transition-colors">
                  <span class="text-2xl"><%= item.display_emoji %></span>
                  <span class="text-[10px] text-<%= item.rarity_color %>-400 mt-1"><%= item.rarity %></span>
                </div>
                <!-- Tooltip -->
                <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 rounded text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10">
                  <%= item.name %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Instructions -->
  <div class="mt-8 glass-card rounded-2xl p-6">
    <h3 class="text-lg font-bold text-white mb-4">테스트 방법</h3>
    <div class="text-gray-400 space-y-2">
      <p>1. 로그인하면 스타터 아이템이 자동으로 지급됩니다</p>
      <p>2. <strong class="text-green-400">상점</strong>에서 원하는 아이템을 구매하세요</p>
      <p>3. <strong class="text-green-400">꾸미기</strong>에서 아이템을 클릭하면 장착/해제됩니다</p>
      <p>4. 머리 아이템은 캐릭터 머리 위에, 몸통 아이템은 몸에 표시됩니다</p>
    </div>

    <div class="mt-6 flex gap-4">
      <%= link_to "/", class: "px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-xl hover:shadow-lg transition-all" do %>
        홈으로 가기
      <% end %>
    </div>
  </div>
</div>
